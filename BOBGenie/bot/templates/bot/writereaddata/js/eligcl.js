$(document).ready(function(){if($(".eligibilityCalcWrap").length){var t=$("#gmiAmount");t.keyup(function(){gmiAmountVal(),t.parent().find(".error").remove()});var n=$("#gaiAmount");$("#gaiAmount").keyup(function(){gaiAmountVal(),n.parent().find(".error").remove()});var o=$("#otherEMIs");o.keyup(function(){otherEMIVal(),o.parent().find(".error").remove()});var i=$("#otherEMIs2");i.keyup(function(){otherEMIVal2(),i.parent().find(".error").remove()});var l=$("#loanTerms");l.keyup(function(){foirVal(),l.parent().find(".error").remove()});var p=$("#loanTerms2");p.keyup(function(){foirVal2(),p.parent().find(".error").remove()});var s=$("#estimatedValueOfProperty");s.keyup(function(){propertyVal(),s.parent().find(".error").remove()});var m=$("#estimatedValueOfProperty2");$("#estimatedValueOfProperty2").keyup(function(){propertyVal2(),m.parent().find(".error").remove()});var e=$(".emiCounter input");e.keypress(function(e){return/\d/.test(String.fromCharCode(e.keyCode))});var v=$("#eligibleAmount"),d=$("#eligibleAmount2");e.focus(function(e){v.text(""),d.text("")})}$("#checkEligibilityBtn").click(function(e){e.preventDefault(),""===t.val()?t.parent().find(".error").is(":visible")||t.parent().append('<span class="error">Please Enter Gross Monthly Income (GMI)</span>'):""!==t.val()&&t.parent().find(".error").remove(),""===o.val()?o.parent().find(".error").is(":visible")||o.parent().append('<span class="error">Please Enter Other Deductions Amount</span>'):""!==!o.val()&&o.parent().find(".error").remove();var r=$("#roi");if(""===r.val()?r.parent().find(".error").not(".error.alignRight").is(":visible")||r.parent().append('<span class="error">Please Enter Rate of Interest</span>'):""!==!r.val()&&r.parent().find(".error").not(".error.alignRight").remove(),""===l.val()?l.parent().find(".error").not(".error.alignRight").is(":visible")||l.parent().append('<span class="error">Please Enter Loan Terms (Years)</span>'):""!==!l.val()&&l.parent().find(".error").not(".error.alignRight").remove(),""===s.val()?s.parent().find(".error").is(":visible")||s.parent().append('<span class="error">Please Enter Estimated value of your property</span>'):""!==!s.val()&&s.parent().find(".error").remove(),""!==t.val()&&""!==o.val()&&""!==r.val()&&""!==l.val()&&""!==s.val()){var a=$("#salariedPerson .emiTotalWrap");a.is(":visible")||($("#salariedPerson .btnRow").addClass("btnRowMrg"),$("#salariedPerson .emiTotalWrap, #salariedPerson .applyBtnRow").slideDown()),0<gmiAmountVal()&&0<foirVal()&&0<propertyVal()?v.text(addCommaInNumbers(Math.min(gmiAmountVal(),foirVal(),propertyVal()))+".00"):v.text("0"),$("html, body").animate({scrollTop:a.offset().top-400},500)}}),$("#checkEligibilityBtn2").click(function(e){e.preventDefault(),""===n.val()?n.parent().find(".error").is(":visible")||n.parent().append('<span class="error">Please Enter Gross Annual Income (GAI)</span>'):""!==n.val()&&n.parent().find(".error").remove(),""===i.val()?i.parent().find(".error").is(":visible")||i.parent().append('<span class="error">Please Enter Other Deductions Amount</span>'):""!==!i.val()&&i.parent().find(".error").remove();var r=$("#roi2");if(""===r.val()?r.parent().find(".error").not(".error.alignRight").is(":visible")||r.parent().append('<span class="error">Please Enter Rate of Interest</span>'):""!==!r.val()&&r.parent().find(".error").not(".error.alignRight").remove(),""===p.val()?p.parent().find(".error").not(".error.alignRight").is(":visible")||p.parent().append('<span class="error">Please Enter Loan Terms (Years)</span>'):""!==!p.val()&&p.parent().find(".error").not(".error.alignRight").remove(),""===m.val()?m.parent().find(".error").is(":visible")||m.parent().append('<span class="error">Please Enter Estimated value of your property</span>'):""!==!m.val()&&m.parent().find(".error").remove(),""!==n.val()&&""!==i.val()&&""!==r.val()&&""!==p.val()&&""!==m.val()){var a=$("#otherPerson .emiTotalWrap");a.is(":visible")||($("#otherPerson .btnRow").addClass("btnRowMrg"),$("#otherPerson .emiTotalWrap, #otherPerson .applyBtnRow").slideDown()),0<gaiAmountVal()&&0<foirVal2()&&0<propertyVal2()?d.text(addCommaInNumbers(Math.min(gaiAmountVal(),foirVal2(),propertyVal2()))+".00"):d.text("0"),$("html, body").animate({scrollTop:a.offset().top-400},500)}}),$(".radioTab").click(function(){$(this).hasClass("salariedTab")?($("#salariedPerson").fadeIn(),$("#otherPerson").hide(),$("#otherPerson .btnRow").removeClass("btnRowMrg"),$("#otherPerson .emiTotalWrap, #otherPerson .applyBtnRow").slideUp()):($("#salariedPerson").hide(),$("#otherPerson").fadeIn(),$("#salariedPerson .btnRow").removeClass("btnRowMrg"),$("#salariedPerson .emiTotalWrap, #salariedPerson .applyBtnRow").slideUp())})});var gmiVal,otherEMI,otherEMI50per,otherEMI60per,otherEMI65per,otherEMI70per,otherEMI75per,gaiVal,otherEMI2,otherEMI70per2,otherEMI80per2,eligibleElem=$("#eligibleAmount"),eligibleElem2=$("#eligibleAmount2");function gmiAmountVal(){gmiVal=$("#gmiAmount").val();var e=parseInt(48*gmiVal.replace(" ","")),r=parseInt(54*gmiVal.replace(" ","")),a=parseInt(60*gmiVal.replace(" ",""));$(".timesCount");return 99999<gmiVal?a:49999<gmiVal&&gmiVal<1e5?r:gmiVal<5e4?e:void 0}function gaiAmountVal(){gaiVal=$("#gaiAmount").val();var e=parseInt(4*gaiVal.replace(" ","")),r=parseInt(6*gaiVal.replace(" ",""));$(".timesCount2");return 199999<gaiVal?r:gaiVal<2e5?e:void 0}function otherEMIVal(){return otherEMI=$("#otherEMIs").val(),otherEMI50per=parseInt(gmiVal/100*50)-otherEMI,otherEMI60per=parseInt(gmiVal/100*60)-otherEMI,otherEMI65per=parseInt(gmiVal/100*65)-otherEMI,otherEMI70per=parseInt(gmiVal/100*70)-otherEMI,otherEMI75per=parseInt(gmiVal/100*75)-otherEMI,499999<gmiVal?otherEMI75per:199999<gmiVal&&gmiVal<5e5?otherEMI70per:49999<gmiVal&&gmiVal<2e5?otherEMI65per:19999<gmiVal&&gmiVal<5e4?otherEMI60per:gmiVal<2e4?otherEMI50per:void 0}function otherEMIVal2(){return otherEMI2=$("#otherEMIs2").val(),otherEMI70per2=parseInt(gaiVal/100*70)-otherEMI2,otherEMI80per2=parseInt(gaiVal/100*80)-otherEMI2,6e5<gaiVal?otherEMI80per2:gaiVal<=6e5?otherEMI70per2:void 0}function monthlyRepayment1(){var e,r=parseFloat($("#roi").val().replace(" % p.a",""))/100,a=12*parseInt($("#loanTerms").val().replace(" year",""));return e=1e5*r/12*(Math.pow(1+r/12,a)/(Math.pow(1+r/12,a)-1))+1,parseInt(e).toFixed(2)}function monthlyRepayment2(){var e,r=parseFloat($("#roi2").val().replace(" % p.a",""))/100,a=12*parseInt($("#loanTerms2").val().replace(" year",""));return e=1e5*r/12*(Math.pow(1+r/12,a)/(Math.pow(1+r/12,a)-1))+1,parseInt(e).toFixed(2)}function foirVal(){var e=parseInt(1e5*otherEMI50per/monthlyRepayment1()),r=parseInt(1e5*otherEMI60per/monthlyRepayment1()),a=parseInt(1e5*otherEMI65per/monthlyRepayment1()),t=parseInt(1e5*otherEMI70per/monthlyRepayment1()),n=parseInt(1e5*otherEMI75per/monthlyRepayment1());return 499999<gmiVal?n:199999<gmiVal&&gmiVal<5e5?t:49999<gmiVal&&gmiVal<2e5?a:19999<gmiVal&&gmiVal<5e4?r:gmiVal<2e4?e:void 0}function foirVal2(){var e=parseInt(1e5*otherEMI70per2/(12*monthlyRepayment2())),r=parseInt(1e5*otherEMI80per2/(12*monthlyRepayment2()));return 6e5<gaiVal?r:gaiVal<=6e5?e:void 0}function propertyVal(){var e=$("#estimatedValueOfProperty").val();return e<3000001?e/100*90:3e6<e&&e<7500001?e/100*80:75e5<e?e/100*75:void 0}function propertyVal2(){var e=$("#estimatedValueOfProperty2").val();return e<3000001?e/100*90:3e6<e&&e<7500001?e/100*80:75e5<e?e/100*75:void 0}function addCommaInNumbers(e){return e.toString().substring(0,e.toString().split(".")[0].length-3).replace(/\B(?=(\d{2})+(?!\d))/g,",")+","+e.toString().substring(e.toString().split(".")[0].length-3)}